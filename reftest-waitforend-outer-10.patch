# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  7b5d0b5d46c705e42e004db581ad53d9675d7e76

diff --git a/layout/tools/reftest/reftest-content.js b/layout/tools/reftest/reftest-content.js
--- a/layout/tools/reftest/reftest-content.js
+++ b/layout/tools/reftest/reftest-content.js
@@ -746,31 +746,31 @@ function OnDocumentLoad(event)
         shouldWaitForExplicitPaintWaiters() ||
         spellCheckedElements.length) {
         // Go into reftest-wait mode immediately after painting has been
         // unsuppressed, after the onload event has finished dispatching.
         gFailureReason = "timed out waiting for test to complete (trying to get into WaitForTestEnd)";
         LogInfo("OnDocumentLoad triggering WaitForTestEnd");
         setTimeout(function () {
           WaitForTestEnd(contentRootElement, inPrintMode, spellCheckedElements);
-        }, 1);
+        }, 10);
     } else {
         if (doPrintMode(contentRootElement)) {
             LogInfo("OnDocumentLoad setting up print mode");
             setupPrintMode();
             inPrintMode = true;
         }
 
         // Since we can't use a bubbling-phase load listener from chrome,
         // this is a capturing phase listener.  So do setTimeout twice, the
         // first to get us after the onload has fired in the content, and
         // the second to get us after any setTimeout(foo, 0) in the content.
         gFailureReason = "timed out waiting for test to complete (waiting for onload scripts to complete)";
         LogInfo("OnDocumentLoad triggering AfterOnLoadScripts");
-        setTimeout(function () { setTimeout(AfterOnLoadScripts, 0); }, 0);
+        setTimeout(function () { setTimeout(AfterOnLoadScripts, 0); }, 10);
     }
 }
 
 function CheckLayerAssertions(contentRootElement)
 {
     if (!contentRootElement) {
         return;
     }
