# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  d56c61244de4589defaa533573cb0a21d46b767d
Bug 1184967 P2 Update fetch-frame-resource.https.html CORS checks to expect pass. r=jgraham

diff --git a/testing/web-platform/mozilla/meta/service-workers/service-worker/fetch-frame-resource.https.html.ini b/testing/web-platform/mozilla/meta/service-workers/service-worker/fetch-frame-resource.https.html.ini
deleted file mode 100644
--- a/testing/web-platform/mozilla/meta/service-workers/service-worker/fetch-frame-resource.https.html.ini
+++ /dev/null
@@ -1,10 +0,0 @@
-[fetch-frame-resource.https.html]
-  type: testharness
-  [CORS type response could be loaded in the iframe.]
-    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1184967
-    expected: FAIL
-
-  [CORS type response could be loaded in the new window.]
-    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1184967
-    expected: FAIL
-
diff --git a/testing/web-platform/mozilla/tests/service-workers/service-worker/fetch-frame-resource.https.html b/testing/web-platform/mozilla/tests/service-workers/service-worker/fetch-frame-resource.https.html
--- a/testing/web-platform/mozilla/tests/service-workers/service-worker/fetch-frame-resource.https.html
+++ b/testing/web-platform/mozilla/tests/service-workers/service-worker/fetch-frame-resource.https.html
@@ -101,17 +101,17 @@ async_test(function(t) {
       .then(function(reg) {
           return wait_for_state(t, reg.installing, 'activated');
         })
       .then(function() {
           var frame = document.createElement('iframe');
           frame.src =
             scope + '?mode=cors&url=' +
             encodeURIComponent(host_info['HTTPS_REMOTE_ORIGIN'] + path +
-                               '?ACAOrigin=' + host_info['HTTP_ORIGIN']);
+                               '?ACAOrigin=' + host_info['HTTPS_ORIGIN']);
           document.body.appendChild(frame);
           return getLoadedFrameAsObject(frame);
         })
       .then(function(result) {
           assert_equals(
             result.jsonpResult,
             'success',
             'CORS type response could be loaded in the iframe.');
@@ -171,17 +171,17 @@ async_test(function(t) {
     service_worker_unregister_and_register(t, worker, scope)
       .then(function(reg) {
           return wait_for_state(t, reg.installing, 'activated');
         })
       .then(function() {
           var win = window.open(
             scope + '?mode=cors&url=' +
             encodeURIComponent(host_info['HTTPS_REMOTE_ORIGIN'] + path +
-                               '?ACAOrigin=' + host_info['HTTP_ORIGIN']));
+                               '?ACAOrigin=' + host_info['HTTPS_ORIGIN']));
           return getLoadedWindowAsObject(win);
         })
       .then(function(result) {
           assert_equals(
             result.jsonpResult,
             'success',
             'CORS type response could be loaded in the new window.');
           return service_worker_unregister_and_done(t, scope);
