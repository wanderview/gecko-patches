# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  ea252aadf6076fc868344ceae378aa51e38f5213

diff --git a/toolkit/components/extensions/ExtensionContent.jsm b/toolkit/components/extensions/ExtensionContent.jsm
--- a/toolkit/components/extensions/ExtensionContent.jsm
+++ b/toolkit/components/extensions/ExtensionContent.jsm
@@ -280,16 +280,19 @@ class Script {
     if (this.requiresCleanup) {
       context.addScript(this);
     }
 
     let cssPromise;
     if (this.cssURLs.length) {
       let window = context.contentWindow;
       dump('### ### ExtensionContent.jsm Script.inject(' + context + ') window: ' + window + '\n');
+      if (!window) {
+        return;
+      }
       let winUtils = getWinUtils(window);
 
       let type = this.cssOrigin === "user" ? winUtils.USER_SHEET : winUtils.AUTHOR_SHEET;
 
       if (this.removeCSS) {
         for (let url of this.cssURLs) {
           this.cssCache.deleteDocument(url, window.document);
 
