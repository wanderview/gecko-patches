# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  02d8d4523c1cfc86c8d1c0a6871eca0a2d16a60a

diff --git a/dom/workers/ServiceWorkerRegistrar.cpp b/dom/workers/ServiceWorkerRegistrar.cpp
--- a/dom/workers/ServiceWorkerRegistrar.cpp
+++ b/dom/workers/ServiceWorkerRegistrar.cpp
@@ -277,21 +277,23 @@ ServiceWorkerRegistrar::ReadData()
   // runs on a IO thread, but in gTests we call it from the main-thread.
 
   nsCOMPtr<nsIFile> file;
 
   {
     MonitorAutoLock lock(mMonitor);
 
     if (!mProfileDir) {
+      printf_stderr("### ### ReadData() without a profile dir\n");
       return NS_ERROR_FAILURE;
     }
 
     nsresult rv = mProfileDir->Clone(getter_AddRefs(file));
     if (NS_WARN_IF(NS_FAILED(rv))) {
+      printf_stderr("### ### ReadData() clone failed\n");
       return rv;
     }
   }
 
   nsresult rv = file->Append(NS_LITERAL_STRING(SERVICEWORKERREGISTRAR_FILE));
   if (NS_WARN_IF(NS_FAILED(rv))) {
     return rv;
   }
@@ -578,21 +580,23 @@ ServiceWorkerRegistrar::DeleteData()
 
   nsCOMPtr<nsIFile> file;
 
   {
     MonitorAutoLock lock(mMonitor);
     mData.Clear();
 
     if (!mProfileDir) {
+      printf_stderr("### ### DeleteData() without a profile dir\n");
       return;
     }
 
     nsresult rv = mProfileDir->Clone(getter_AddRefs(file));
     if (NS_WARN_IF(NS_FAILED(rv))) {
+      printf_stderr("### ### DeleteData() clone failed\n");
       return;
     }
   }
 
   nsresult rv = file->Append(NS_LITERAL_STRING(SERVICEWORKERREGISTRAR_FILE));
   if (NS_WARN_IF(NS_FAILED(rv))) {
     return;
   }
@@ -743,21 +747,23 @@ ServiceWorkerRegistrar::WriteData()
 
   nsCOMPtr<nsIFile> file;
 
   {
     MonitorAutoLock lock(mMonitor);
     mData.Clear();
 
     if (!mProfileDir) {
+      printf_stderr("### ### WriteData() without a profile dir\n");
       return NS_ERROR_FAILURE;
     }
 
     nsresult rv = mProfileDir->Clone(getter_AddRefs(file));
     if (NS_WARN_IF(NS_FAILED(rv))) {
+      printf_stderr("### ### WriteData() clone failed\n");
       return rv;
     }
   }
 
   nsresult rv = file->Append(NS_LITERAL_STRING(SERVICEWORKERREGISTRAR_FILE));
   if (NS_WARN_IF(NS_FAILED(rv))) {
     return rv;
   }
