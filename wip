# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  515a36b6f228f71a62d6e79c1a5603626c94d64c

diff --git a/ipc/glue/IPCStream.ipdlh b/ipc/glue/IPCStream.ipdlh
--- a/ipc/glue/IPCStream.ipdlh
+++ b/ipc/glue/IPCStream.ipdlh
@@ -3,22 +3,26 @@
  * You can obtain one at http://mozilla.org/MPL/2.0/. */
 
 include protocol PSendStream;
 include InputStreamParams;
 
 namespace mozilla {
 namespace ipc {
 
+// Do not use this directly.  See IPCStream below.
 struct InputStreamParamsWithFds
 {
   InputStreamParams stream;
   OptionalFileDescriptorSet optionalFds;
 };
 
+// Use IPCStream or OptionalIPCStream in your ipdl to represent serialized
+// nsIInputStreams.  Then use AutoIPCStream from IPCStreamUtils.h to perform
+// the serialization.
 union IPCStream
 {
   InputStreamParamsWithFds;
   PSendStream;
 };
 
 union OptionalIPCStream
 {
diff --git a/ipc/glue/IPCStreamUtils.h b/ipc/glue/IPCStreamUtils.h
--- a/ipc/glue/IPCStreamUtils.h
+++ b/ipc/glue/IPCStreamUtils.h
@@ -22,17 +22,17 @@ class PBackgroundParent;
 
 already_AddRefed<nsIInputStream>
 DeserializeInputStream(const IPCStream& aValue);
 
 already_AddRefed<nsIInputStream>
 DeserializeInputStream(const OptionalIPCStream& aValue);
 
 // RAII helper class that serializes an nsIInputStream into an
-// IPCStream IPC struct.  Any SendStreamChild actors
+// IPCStream struct.  Any file descriptor or PSendStream actors
 // are automatically managed correctly.
 //
 // Use the TakeValue() method when passing the value (or just after passing the
 // value) to the IPC Send*() method.
 //
 // For example:
 //
 //  AutoIPCStream stream();
