# HG changeset patch
# Parent 42afc7ef5ccbe8eb97c027c0eccf9528019e5ad3
# User Ben Kelly <ben@wanderview.com>
Bug 1142852 P1 Fix NS_NewNonOwningRunnableMethodWithArgs() so that it compiles. r=froydnj

diff --git a/xpcom/glue/nsThreadUtils.h b/xpcom/glue/nsThreadUtils.h
--- a/xpcom/glue/nsThreadUtils.h
+++ b/xpcom/glue/nsThreadUtils.h
@@ -716,17 +716,17 @@ NS_NewRunnableMethodWithArgs(PtrType&& a
 {
   static_assert(sizeof...(Storages) == sizeof...(Args),
                 "<Storages...> size should be equal to number of arguments");
   return new nsRunnableMethodImpl<Method, true, Storages...>(
       aPtr, aMethod, mozilla::Forward<Args>(aArgs)...);
 }
 
 template<typename... Storages, typename Method, typename PtrType, typename... Args>
-typename nsRunnableMethodTraits<Method, true>::base_type*
+typename nsRunnableMethodTraits<Method, false>::base_type*
 NS_NewNonOwningRunnableMethodWithArgs(PtrType&& aPtr, Method aMethod,
                                       Args&&... aArgs)
 {
   static_assert(sizeof...(Storages) == sizeof...(Args),
                 "<Storages...> size should be equal to number of arguments");
   return new nsRunnableMethodImpl<Method, false, Storages...>(
       aPtr, aMethod, mozilla::Forward<Args>(aArgs)...);
 }
