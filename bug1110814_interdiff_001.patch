# HG changeset patch
# Parent b6dfdb0b16a0244968ee7db8c88eb5bf1fbcb94e
# User Ben Kelly <ben@wanderview.com>
Bug 1110814 interdiff 001 Re-enable unified builds, fix try failures

diff --git a/dom/cache/CachePushStreamChild.cpp b/dom/cache/CachePushStreamChild.cpp
--- a/dom/cache/CachePushStreamChild.cpp
+++ b/dom/cache/CachePushStreamChild.cpp
@@ -15,17 +15,17 @@
 namespace mozilla {
 namespace dom {
 namespace cache {
 
 class CachePushStreamChild::Callback MOZ_FINAL : public nsIInputStreamCallback
                                                , public nsICancelableRunnable
 {
 public:
-  Callback(CachePushStreamChild* aActor)
+  explicit Callback(CachePushStreamChild* aActor)
     : mActor(aActor)
     , mOwningThread(NS_GetCurrentThread())
   {
     MOZ_ASSERT(mActor);
   }
 
   NS_METHOD
   OnInputStreamReady(nsIAsyncInputStream* aStream)
diff --git a/dom/cache/moz.build b/dom/cache/moz.build
--- a/dom/cache/moz.build
+++ b/dom/cache/moz.build
@@ -33,18 +33,17 @@ EXPORTS.mozilla.dom.cache += [
     'ReadStream.h',
     'SavedTypes.h',
     'StreamList.h',
     'StreamUtils.h',
     'Types.h',
     'TypeUtils.h',
 ]
 
-#UNIFIED_SOURCES += [
-SOURCES += [
+UNIFIED_SOURCES += [
     'Action.cpp',
     'ActorChild.cpp',
     'AutoUtils.cpp',
     'Cache.cpp',
     'CacheChild.cpp',
     'CacheParent.cpp',
     'CachePushStreamChild.cpp',
     'CachePushStreamParent.cpp',
