# HG changeset patch
# Parent 47e1d1757bf022faae14ddf1b7c47633539fe702
# User Ben Kelly <ben@wanderview.com>
Bug 1158265 cache-add.https.html should expect TypeError for invalid scheme.

diff --git a/testing/web-platform/tests/service-workers/cache-storage/script-tests/cache-add.js b/testing/web-platform/tests/service-workers/cache-storage/script-tests/cache-add.js
--- a/testing/web-platform/tests/service-workers/cache-storage/script-tests/cache-add.js
+++ b/testing/web-platform/tests/service-workers/cache-storage/script-tests/cache-add.js
@@ -17,18 +17,18 @@ cache_test(function(cache) {
           assert_equals(result, undefined,
                         'Cache.add should resolve with undefined on success.');
         });
   }, 'Cache.add called with relative URL specified as a string');
 
 cache_test(function(cache) {
     return assert_promise_rejects(
       cache.add('javascript://this-is-not-http-mmkay'),
-      'NetworkError',
-      'Cache.add should throw a NetworkError for non-HTTP/HTTPS URLs.');
+      new TypeError(),
+      'Cache.add should throw a TypeError for non-HTTP/HTTPS URLs.');
   }, 'Cache.add called with non-HTTP/HTTPS URL');
 
 cache_test(function(cache) {
     var request = new Request('../resources/simple.txt', {method: 'POST', body: 'Hello'});
     return cache.add(request)
       .then(function(result) {
           assert_equals(result, undefined,
                         'Cache.add should resolve with undefined on success.');
