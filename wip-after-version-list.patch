# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  9a0960adaf6f0f0220365e2d13abf1498389b475

diff --git a/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp b/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
--- a/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
+++ b/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
@@ -68,17 +68,17 @@ ServiceWorkerRegistrationProxy::InitOnMa
     swm->GetRegistration(mDescriptor.PrincipalInfo(), mDescriptor.Scope());
   NS_ENSURE_TRUE_VOID(reg);
 
   scopeExit.release();
 
   mReg = new nsMainThreadPtrHolder<ServiceWorkerRegistrationInfo>(
     "ServiceWorkerRegistrationProxy::mInfo", reg);
 
-  mReg->AddInstance(this);
+  mReg->AddInstance(this, mDescriptor);
 
   // Currently the spec only sets an installing worker in step 3 of the Install
   // algorithm:
   //
   //  https://w3c.github.io/ServiceWorker/#installation-algorithm
   //
   // In step 7 it then queues a task to dispatch an "updatefound" event.
   //
