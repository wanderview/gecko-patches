# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  d8ee230eb20da39c1340f9565616de287162326f

diff --git a/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp b/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
--- a/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
+++ b/dom/serviceworkers/ServiceWorkerRegistrationProxy.cpp
@@ -68,17 +68,17 @@ ServiceWorkerRegistrationProxy::InitOnMa
     swm->GetRegistration(mDescriptor.PrincipalInfo(), mDescriptor.Scope());
   NS_ENSURE_TRUE_VOID(reg);
 
   scopeExit.release();
 
   mReg = new nsMainThreadPtrHolder<ServiceWorkerRegistrationInfo>(
     "ServiceWorkerRegistrationProxy::mInfo", reg);
 
-  mReg->AddInstance(this);
+  mReg->AddInstance(this, mDescriptor);
 }
 
 void
 ServiceWorkerRegistrationProxy::MaybeShutdownOnMainThread()
 {
   AssertIsOnMainThread();
 
   nsCOMPtr<nsIRunnable> r =
