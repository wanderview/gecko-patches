# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  6764bc656c1d146962d53710d734c2ac87c2306f
Bug 1241020 Expand test_fetch_cors timeouts for android debug. r=ehsan

diff --git a/dom/tests/mochitest/fetch/mochitest.ini b/dom/tests/mochitest/fetch/mochitest.ini
--- a/dom/tests/mochitest/fetch/mochitest.ini
+++ b/dom/tests/mochitest/fetch/mochitest.ini
@@ -34,19 +34,19 @@ skip-if = buildapp == 'b2g' || (e10s && 
 skip-if = buildapp == 'b2g'
 [test_fetch_basic_http.html]
 skip-if = (e10s && debug && os == 'win')
 [test_fetch_basic_http_sw_reroute.html]
 skip-if = buildapp == 'b2g' || (e10s && debug && os == 'win') # Bug 1137683
 [test_fetch_basic_http_sw_empty_reroute.html]
 skip-if = buildapp == 'b2g'
 [test_fetch_cors.html]
-skip-if = buildapp == 'b2g' || (toolkit == 'android' && debug) || (e10s && debug && os == 'win') # Bug 1210552 && 1210282
+skip-if = buildapp == 'b2g' || (e10s && debug && os == 'win') # Bug 1210552 && 1210282
 [test_fetch_cors_sw_reroute.html]
-skip-if = buildapp == 'b2g' || (toolkit == 'android' && debug) || (e10s && debug && os == 'win') # Bug 1137683 && 1210282
+skip-if = buildapp == 'b2g' || (e10s && debug && os == 'win') # Bug 1137683 && 1210282
 [test_fetch_cors_sw_empty_reroute.html]
 skip-if = buildapp == 'b2g'
 [test_formdataparsing.html]
 skip-if = (e10s && debug && os == 'win')
 [test_formdataparsing_sw_reroute.html]
 skip-if = buildapp == 'b2g' || (e10s && debug && os == 'win') # Bug 1137683
 [test_request.html]
 skip-if = (e10s && debug && os == 'win')
diff --git a/dom/tests/mochitest/fetch/test_fetch_cors.html b/dom/tests/mochitest/fetch/test_fetch_cors.html
--- a/dom/tests/mochitest/fetch/test_fetch_cors.html
+++ b/dom/tests/mochitest/fetch/test_fetch_cors.html
@@ -13,15 +13,15 @@
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 <pre id="test"></pre>
 <script type="text/javascript" src="utils.js"> </script>
 <script type="text/javascript" src="fetch_test_framework.js"> </script>
 <script class="testbody" type="text/javascript">
 
 // XXXcatalinb: this test takes a really long time to run on android debug.
-SimpleTest.requestLongerTimeout(2);
+SimpleTest.requestLongerTimeout(3);
 
 testScript("test_fetch_cors.js");
 </script>
 </body>
 </html>
 
diff --git a/dom/tests/mochitest/fetch/test_fetch_cors_sw_empty_reroute.html b/dom/tests/mochitest/fetch/test_fetch_cors_sw_empty_reroute.html
--- a/dom/tests/mochitest/fetch/test_fetch_cors_sw_empty_reroute.html
+++ b/dom/tests/mochitest/fetch/test_fetch_cors_sw_empty_reroute.html
@@ -10,13 +10,14 @@
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 <pre id="test"></pre>
 <script type="text/javascript" src="sw_reroute.js"> </script>
 <script class="testbody" type="text/javascript">
+SimpleTest.requestLongerTimeout(3);
 testScript("test_fetch_cors.js");
 </script>
 </body>
 </html>
 
diff --git a/dom/tests/mochitest/fetch/test_fetch_cors_sw_reroute.html b/dom/tests/mochitest/fetch/test_fetch_cors_sw_reroute.html
--- a/dom/tests/mochitest/fetch/test_fetch_cors_sw_reroute.html
+++ b/dom/tests/mochitest/fetch/test_fetch_cors_sw_reroute.html
@@ -10,13 +10,14 @@
   <link rel="stylesheet" type="text/css" href="/tests/SimpleTest/test.css" />
 </head>
 <body>
 <p id="display"></p>
 <div id="content" style="display: none"></div>
 <pre id="test"></pre>
 <script type="text/javascript" src="sw_reroute.js"> </script>
 <script class="testbody" type="text/javascript">
+SimpleTest.requestLongerTimeout(3);
 testScript("test_fetch_cors.js");
 </script>
 </body>
 </html>
 
