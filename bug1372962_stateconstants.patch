# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  c114d54fc1e0770ddca7295f388f76f234ef56d7
Bug 1372962 Use idl defined state constants in test_devtools_track_serviceworker_time.html. r=tt

diff --git a/dom/workers/test/serviceworkers/test_devtools_track_serviceworker_time.html b/dom/workers/test/serviceworkers/test_devtools_track_serviceworker_time.html
--- a/dom/workers/test/serviceworkers/test_devtools_track_serviceworker_time.html
+++ b/dom/workers/test/serviceworkers/test_devtools_track_serviceworker_time.html
@@ -4,26 +4,26 @@
   <script type="application/javascript" src="chrome://mochikit/content/tests/SimpleTest/SimpleTest.js"></script>
   <link rel="stylesheet" type="text/css" href="chrome://mochikit/content/tests/SimpleTest/test.css"?>
 </head>
 <iframe id="iframe"></iframe>
 <body>
 
 <script type="text/javascript">
 
+let { classes: Cc, interfaces: Ci, utils: Cu } = Components;
+
 const State = {
   BYTECHECK: -1,
-  INSTALLING: 0,
-  INSTALLED: 1,
-  ACTIVATING: 2,
-  ACTIVATED: 3,
-  REDUNDANT: 4
+  INSTALLING: Ci.nsIServiceWorkerInfo.STATE_INSTALLING,
+  INSTALLED: Ci.nsIServiceWorkerInfo.STATE_INSTALLED,
+  ACTIVATING: Ci.nsIServiceWorkerInfo.STATE_ACTIVATING,
+  ACTIVATED: Ci.nsIServiceWorkerInfo.STATE_ACTIVATED,
+  REDUNDANT: Ci.nsIServiceWorkerInfo.STATE_REDUNDANT
 };
-
-let { classes: Cc, interfaces: Ci, utils: Cu } = Components;
 let swm = Cc["@mozilla.org/serviceworkers/manager;1"].
           getService(Ci.nsIServiceWorkerManager);
 
 let EXAMPLE_URL = "https://example.com/chrome/dom/workers/test/serviceworkers/";
 
 let swrlistener = null;
 let registrationInfo = null;
 
