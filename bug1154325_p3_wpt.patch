# HG changeset patch
# Parent 387f5584d4fe59b84b751219388b005f077eaec8
# User Ben Kelly <ben@wanderview.com>
Bug 1154325 P3 Re-enable service-workers/cache-storage WPT tests. r=jgraham

diff --git a/testing/web-platform/meta/service-workers/cache-storage/common.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/common.https.html.ini
deleted file mode 100644
--- a/testing/web-platform/meta/service-workers/cache-storage/common.https.html.ini
+++ /dev/null
@@ -1,3 +0,0 @@
-[common.https.html]
-  type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-add.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-add.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-add.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-add.https.html.ini
@@ -1,6 +1,3 @@
 [cache-add.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [Cache.add and Cache.addAll]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-delete.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-delete.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-delete.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-delete.https.html.ini
@@ -1,6 +1,3 @@
 [cache-delete.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [Cache.delete]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-match.https.html.ini
@@ -1,6 +1,3 @@
 [cache-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [Cache.match and Cache.matchAll]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-put.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-put.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-put.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-put.https.html.ini
@@ -1,6 +1,3 @@
 [cache-put.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [Cache.put]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-keys.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-keys.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-keys.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-keys.https.html.ini
@@ -1,3 +1,3 @@
 [cache-storage-keys.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage-match.https.html.ini
@@ -1,6 +1,3 @@
 [cache-storage-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [CacheStorage.match]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/serviceworker/cache-storage.https.html.ini
@@ -1,6 +1,3 @@
 [cache-storage.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  [CacheStorage]
-    expected: FAIL
-
+  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1158347
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-add.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-add.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-add.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-add.https.html.ini
@@ -1,15 +1,22 @@
 [cache-add.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
+  [Cache.add called with non-HTTP/HTTPS URL]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158265
+    expected: FAIL
+
   [Cache.add called with Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.add called with Request object with a used body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.add called twice with the same Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.addAll called with the same Request object specified twice]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158263
     expected: FAIL
 
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-delete.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-delete.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-delete.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-delete.https.html.ini
@@ -1,9 +1,10 @@
 [cache-delete.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [Cache.delete called with a Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.delete with a Request object containing used body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-match.https.html.ini
@@ -1,129 +1,14 @@
 [cache-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  expected:
-    if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-    if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-  [Cache.matchAll with no matching entries]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with no matching entries]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with URL]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with URL]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with new Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with new Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
+  [Cache.matchAll with responses containing "Vary" header]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
+  [Cache.match with responses containing "Vary" header]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
+  [Cache.matchAll with "ignoreVary" parameter]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
   [Cache.match with Request containing non-empty body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
-
-  [Cache.matchAll with ignoreSearch option (request with no search parameters)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with ignoreSearch option (request with no search parameters)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with ignoreSearch option (request with search parameter)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with ignoreSearch option (request with search parameter)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with URL containing fragment]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with URL containing fragment]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with string fragment "http" as query]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with string fragment "http" as query]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with URL containing credentials]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with URL containing credentials]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with responses containing "Vary" header]
-    expected:
-      if not debug and (os == "linux") and (version == "Ubuntu 12.04") and (processor == "x86") and (bits == 32): FAIL
-      if not debug and (os == "mac") and (version == "OS X 10.8") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "linux") and (version == "Ubuntu 12.04") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "mac") and (version == "OS X 10.10.2") and (processor == "x86") and (bits == 32): FAIL
-      if not debug and (os == "win") and (version == "5.1.2600") and (processor == "x86") and (bits == 32): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with responses containing "Vary" header]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.matchAll with "ignoreVary" parameter]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match with Request and Response objects with different URLs]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
-  [Cache.match invoked multiple times for the same Request/Response]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): TIMEOUT
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-put.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-put.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-put.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-put.https.html.ini
@@ -1,9 +1,9 @@
 [cache-put.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [Cache.put with Request containing a body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.put with a used response body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158301
     expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-keys.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-keys.https.html.ini
deleted file mode 100644
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-keys.https.html.ini
+++ /dev/null
@@ -1,3 +0,0 @@
-[cache-storage-keys.https.html]
-  type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage-match.https.html.ini
@@ -1,6 +1,5 @@
 [cache-storage-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [CacheStorageMatch with no caches available but name provided]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158314
     expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/cache-storage.https.html.ini
@@ -1,9 +1,5 @@
 [cache-storage.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [CacheStorage.open with existing cache]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158306
     expected: FAIL
-
-  [CacheStorage names are DOMStrings not USVStrings]
-    expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/window/sandboxed-iframes.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/window/sandboxed-iframes.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/window/sandboxed-iframes.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/window/sandboxed-iframes.https.html.ini
@@ -1,7 +1,8 @@
 [sandboxed-iframes.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
+  bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158324
   expected: ERROR
+
   [Sandboxed iframe without allow-same-origin is denied access]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158319
     expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-add.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-add.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-add.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-add.https.html.ini
@@ -1,15 +1,22 @@
 [cache-add.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
+  [Cache.add called with non-HTTP/HTTPS URL]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158265
+    expected: FAIL
+
   [Cache.add called with Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.add called with Request object with a used body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.add called twice with the same Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.addAll called with the same Request object specified twice]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158263
     expected: FAIL
 
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-delete.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-delete.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-delete.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-delete.https.html.ini
@@ -1,9 +1,10 @@
 [cache-delete.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [Cache.delete called with a Request object]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.delete with a Request object containing used body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-match.https.html.ini
@@ -1,83 +1,14 @@
 [cache-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
-  expected:
-    if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-  [Cache.matchAll with no matching entries]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with no matching entries]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with URL]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with URL]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with new Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with new Request]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
+  [Cache.matchAll with responses containing "Vary" header]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
+  [Cache.match with responses containing "Vary" header]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
+  [Cache.matchAll with "ignoreVary" parameter]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158292
+    expected: FAIL
   [Cache.match with Request containing non-empty body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
-
-  [Cache.matchAll with ignoreSearch option (request with no search parameters)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with ignoreSearch option (request with no search parameters)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with ignoreSearch option (request with search parameter)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with ignoreSearch option (request with search parameter)]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with URL containing fragment]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with URL containing fragment]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with string fragment "http" as query]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with string fragment "http" as query]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with URL containing credentials]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.match with URL containing credentials]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): TIMEOUT
-
-  [Cache.matchAll with responses containing "Vary" header]
-    expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-put.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-put.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-put.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-put.https.html.ini
@@ -1,9 +1,9 @@
 [cache-put.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [Cache.put with Request containing a body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158262
     expected: FAIL
 
   [Cache.put with a used response body]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158301
     expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-keys.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-keys.https.html.ini
deleted file mode 100644
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-keys.https.html.ini
+++ /dev/null
@@ -1,3 +0,0 @@
-[cache-storage-keys.https.html]
-  type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-match.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-match.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-match.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage-match.https.html.ini
@@ -1,6 +1,5 @@
 [cache-storage-match.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [CacheStorageMatch with no caches available but name provided]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158314
     expected: FAIL
-
diff --git a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage.https.html.ini b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage.https.html.ini
--- a/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage.https.html.ini
+++ b/testing/web-platform/meta/service-workers/cache-storage/worker/cache-storage.https.html.ini
@@ -1,39 +1,5 @@
 [cache-storage.https.html]
   type: testharness
-  disabled: https://bugzilla.mozilla.org/show_bug.cgi?id=1154325
   [CacheStorage.open with existing cache]
+    bug: https://bugzilla.mozilla.org/show_bug.cgi?id=1158306
     expected: FAIL
-
-  [CacheStorage names are DOMStrings not USVStrings]
-    expected: FAIL
-
-  [CacheStorage.open]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
-  [CacheStorage.open with an empty name]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
-  [CacheStorage.has with existing cache]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
-  [CacheStorage.has with nonexistent cache]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
-  [CacheStorage.delete with existing cache]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
-  [CacheStorage.delete with nonexistent cache]
-    expected:
-      if not debug and (os == "win") and (version == "6.2.9200") and (processor == "x86_64") and (bits == 64): FAIL
-      if not debug and (os == "win") and (version == "6.1.7601") and (processor == "x86") and (bits == 32): FAIL
-
