# HG changeset patch
# Parent c6944276c5925411af839e0f7b31eca733b220b9
# User Ben Kelly <ben@wanderview.com>
Bug 1146557 Flip dom.caches.enabled to true on non-release builds. r=ehsan


diff --git a/modules/libpref/init/all.js b/modules/libpref/init/all.js
--- a/modules/libpref/init/all.js
+++ b/modules/libpref/init/all.js
@@ -4469,17 +4469,21 @@ pref("image.mozsamplesize.enabled", fals
 pref("beacon.enabled", true);
 #endif
 
 // Camera prefs
 pref("camera.control.face_detection.enabled", true);
 
 
 // SW Cache API
+#ifdef RELEASE_BUILD
 pref("dom.caches.enabled", false);
+#else
+pref("dom.caches.enabled", true);
+#endif // RELEASE_BUILD
 
 #ifdef MOZ_WIDGET_GONK
 // Empirically, this is the value returned by hal::GetTotalSystemMemory()
 // when Flame's memory is limited to 512MiB. If the camera stack determines
 // it is running on a low memory platform, features that can be reliably
 // supported will be disabled. This threshold can be adjusted to suit other
 // platforms; and set to 0 to disable the low-memory check altogether.
 pref("camera.control.low_memory_thresholdMB", 404);
