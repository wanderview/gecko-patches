# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  c68d47eb9bfc3434600e9e023a9d331dd058d074
Bug 1369862 P4 Update test_fetch_event.html expectations for synthesized CORS response returned for outer no-cors request. r=asuth

diff --git a/dom/workers/test/serviceworkers/fetch/fetch_tests.js b/dom/workers/test/serviceworkers/fetch/fetch_tests.js
--- a/dom/workers/test/serviceworkers/fetch/fetch_tests.js
+++ b/dom/workers/test/serviceworkers/fetch/fetch_tests.js
@@ -272,20 +272,20 @@ fetch('http://example.com/opaque-no-cors
 }, function(e) {
   my_ok(false, "intercepted opaque response for no-cors request should pass.");
   finish();
 });
 
 expectAsyncResult();
 fetch('http://example.com/cors-for-no-cors', { mode: "no-cors" })
 .then(function(res) {
-  my_ok(res.type == "opaque", "intercepted non-opaque response for no-cors request should resolve to opaque response.");
+  my_ok(res.type == "cors", "synthesize CORS response should result in outer CORS response");
   finish();
 }, function(e) {
-  my_ok(false, "intercepted non-opaque response for no-cors request should resolve to opaque response. It should not fail.");
+  my_ok(false, "cors-for-no-cors request should not reject");
   finish();
 });
 
 function arrayBufferFromString(str) {
   var arr = new Uint8Array(str.length);
   for (var i = 0; i < str.length; ++i) {
     arr[i] = str.charCodeAt(i);
   }
