# HG changeset patch
# Parent b6623a27fa647437a630dfc548d684b2a2de22c1
# User Ben Kelly <ben@wanderview.com>
Bug 1168129 Fix ssltunnel.cpp FAIL_ON_WARNING build errors on some platforms. r=ted


diff --git a/testing/mochitest/ssltunnel/ssltunnel.cpp b/testing/mochitest/ssltunnel/ssltunnel.cpp
--- a/testing/mochitest/ssltunnel/ssltunnel.cpp
+++ b/testing/mochitest/ssltunnel/ssltunnel.cpp
@@ -25,16 +25,17 @@
 #include "prnetdb.h"
 #include "prtpool.h"
 #include "nsAlgorithm.h"
 #include "nss.h"
 #include "key.h"
 #include "ssl.h"
 #include "sslproto.h"
 #include "plhash.h"
+#include "mozilla/unused.h"
 
 using namespace mozilla;
 using namespace mozilla::psm;
 using std::string;
 using std::vector;
 
 #define IS_DELIM(m, c)          ((m)[(c) >> 3] & (1 << ((c) & 7)))
 #define SET_DELIM(m, c)         ((m)[(c) >> 3] |= (1 << ((c) & 7)))
@@ -1360,17 +1361,17 @@ int parseConfigFile(const char* filePath
   FILE* f = fopen(filePath, "r");
   if (!f)
     return 1;
 
   char buffer[1024], *b = buffer;
   while (!feof(f))
   {
     char c;
-    fscanf(f, "%c", &c);
+    mozilla::unused << fscanf(f, "%c", &c);
     switch (c)
     {
     case '\n':
       *b++ = 0;
       if (processConfigLine(buffer))
       {
         fclose(f);
         return 1;
