# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  cbb6466c149c00ca22475564c822c95237660ccb

diff --git a/testing/web-platform/harness/wptrunner/browsers/firefox.py b/testing/web-platform/harness/wptrunner/browsers/firefox.py
--- a/testing/web-platform/harness/wptrunner/browsers/firefox.py
+++ b/testing/web-platform/harness/wptrunner/browsers/firefox.py
@@ -186,17 +186,17 @@ class FirefoxBrowser(Browser):
             env_var = "DYLD_LIBRARY_PATH"
         elif mozinfo.isUnix:
             env_var = "LD_LIBRARY_PATH"
         else:
             env_var = "PATH"
 
 
         env[env_var] = (os.path.pathsep.join([certutil_dir, env[env_var]])
-                        if env_var in env else certutil_dir)
+                        if env_var in env else certutil_dir).encode("utf8")
 
         def certutil(*args):
             cmd = [self.certutil_binary] + list(args)
             self.logger.process_output("certutil",
                                        subprocess.check_output(cmd,
                                                                env=env,
                                                                stderr=subprocess.STDOUT),
                                        " ".join(cmd))
