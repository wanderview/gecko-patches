# HG changeset patch
# User Ben Kelly <ben@wanderview.com>
# Parent  a8c2004d2dfd0736e56218974bc38704006566fd

diff --git a/dom/serviceworkers/ServiceWorkerRegistration.cpp b/dom/serviceworkers/ServiceWorkerRegistration.cpp
--- a/dom/serviceworkers/ServiceWorkerRegistration.cpp
+++ b/dom/serviceworkers/ServiceWorkerRegistration.cpp
@@ -291,17 +291,16 @@ ServiceWorkerRegistration::ShowNotificat
     return nullptr;
   }
 
   NS_ConvertUTF8toUTF16 scope(mDescriptor.Scope());
 
   // Until we ship ServiceWorker objects on worker threads the active
   // worker will always be nullptr.  So limit this check to main
   // thread for now.
-  MOZ_ASSERT_IF(!NS_IsMainThread(), mDescriptor.GetActive().isNothing());
   if (mDescriptor.GetActive().isNothing() && NS_IsMainThread()) {
     aRv.ThrowTypeError<MSG_NO_ACTIVE_WORKER>(scope);
     return nullptr;
   }
 
   RefPtr<Promise> p =
     Notification::ShowPersistentNotification(aCx, global, scope,
                                              aTitle, aOptions, aRv);
